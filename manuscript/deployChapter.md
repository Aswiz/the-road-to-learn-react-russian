# Заключительные шаги к продакшену

В последних главах будет показано, как развернуть приложение в продакшене. Вы будете использовать бесплатный хостинг Heroku. По пути развертывания (деплоя) вашего приложения вы узнаете больше о *create-react-app*.

## Команда eject

Следующий шаг и знание **не требуются** для деплоя приложения на продакшен. Тем не менее, я хочу объяснить про это. *create-react-app* поставляется с одной возможностью, чтобы оставаться расширяемым, но и также предотвращать привязку к поставщику (vendor lock-in). Привязка к поставщику обычно происходит, когда вы покупаете технологию, но без лёгкой замены её использования в будущем. К счастью, в *create-react-app* у есть такая возможность, называемая «eject».

В вашем *package.json* вы найдете скрипты для запуска (*start*), выполнения тестов (*test*) и сборки (*build*) приложения. Но ещё последний скрипт — *eject*. Вы можете попробовать, но обратного пути уже не будет. **Это односторонняя операция. Как только вы выполните eject, пути назад не будет!** Если вы только начали изучать React, нет смысла оставлять удобное окружение, предоставляемое *create-react-app*, т.к. выполнение данной команды раскроет все зависимости и конфигурационные файлы, созданные и используемые утилитой *create-react-app*.

Если вы запустите `npm run eject`, команда скопирует всю конфигурацию в новый каталог *config/*, а зависимости в файл *package.json*. Таким образом вы сконвертируете весь проект в собственную настройку для сборки вашего приложения со всеми используемыми инструментами, включая Babel и Webpack. После этого у вас будет полный контроль над всеми этими инструментами и будете точно знать, что использовалось под капотом *create-react-app* при сборки вашего приложения.

В официальной документации говорится, что *create-react-app* подходит для малых и средних проектов. Вы считайте, что вы обязаны использовать команду «eject».

### Exercises:

* read more about [eject](https://github.com/facebookincubator/create-react-app#converting-to-a-custom-setup)

## Деплой приложения

В конце концов, ни одно приложение не должно оставаться на localhost. Ты хотите продолжать жить дальше. Heroku — это платформа как услуга (Platform as a Service, PaaS), где вы можете разместить ваше приложение. Они предлагают безболезненную интеграцию с React. В частности, приложение, созданное с помощью *create-react-app*, можно развернуть за считанные минуты. Это деплой приложения без всякой конфигурации, что следует философии *create-react-app*.

Перед деплоем приложения в Heroku необходимо выполнить два требования:

* установить [CLI Heroku](https://devcenter.heroku.com/articles/heroku-command-line)
* создать [бесплатный аккаунт в Heroku](https://www.heroku.com/)

Если у вас установлен Homebrew, вы можете установить CLI Heroku из командной строки:

{title="Command Line",lang="text"}
~~~~~~~~
brew update
brew install heroku-toolbelt
~~~~~~~~

Теперь можно воспользоваться git и CLI Heroku для деплоя вашего приложения.

{title="Command Line",lang="text"}
~~~~~~~~
git init
heroku create -b https://github.com/mars/create-react-app-buildpack.git
git add .
git commit -m "react-create-app on Heroku"
git push heroku master
heroku open
~~~~~~~~

Вот и всё. Я надеюсь, что ваше приложение запущено и работает. При возникновении проблем можно ознакомиться со следующими ресурсами:

* [Git and GitHub Essentials](https://www.robinwieruch.de/git-essential-commands/)
* [Deploying React with Zero Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration)
* [Heroku Buildpack for create-react-app](https://github.com/mars/create-react-app-buildpack)

# Заключительные шаги к развёртыванию в продакшене

В последних главах будет показано, как развернуть приложение в продакшене. Вы будете использовать бесплатный хостинг Heroku. По пути развёртывания (далее — деплой) вашего приложения вы узнаете больше о *create-react-app*.

## Команда eject

Следующий шаг и знание **не требуются** для деплоя приложения на продакшен. Тем не менее, я хочу объяснить это. *create-react-app* поставляется с одной возможностью, чтобы оставаться расширяемым, но и также предотвращать привязку к поставщику (vendor lock-in). Привязка к поставщику обычно происходит, когда вы покупаете, привязываетесь к технологии без лёгкой замены её использования на другую в будущем. К счастью, в *create-react-app* есть такая возможность, называемая «eject».

В вашем *package.json* вы найдёте скрипты для запуска (*start*), выполнения тестов (*test*) и сборки (*build*) приложения. Но есть ещё последний скрипт — *eject*. Вы можете его попробовать, но учтите, что обратного пути уже не будет. **Это односторонняя операция. Как только вы выполните eject, пути назад не будет, это означает, что вы больше не сможете использовать *create-react-app*!** Если вы только начали изучать React, нет смысла оставлять удобное окружение, предоставляемое *create-react-app*, т.к. выполнение данной команды раскроет все зависимости и конфигурационные файлы, созданные и используемые утилитой *create-react-app*.

Если вы запустите `npm run eject`, команда скопирует всю конфигурацию в новый каталог *config/*, а зависимости в файл *package.json*. Таким образом вы сконвертируете весь проект в собственную настройку для сборки вашего приложения со всеми используемыми инструментами, включая Babel и Webpack; в итоге получится так, словно вы никогда и не использовали *create-react-app*. После этого у вас будет полный контроль над всеми этими инструментами и вы будете точно знать, что использовалось под капотом *create-react-app* при сборки вашего приложения.

В официальной документации говорится, что *create-react-app* подходит для малых и средних проектов. Поэтому не считайте, что вы обязательно должны использовать команду «eject».

### Упражнения:

* прочитайте подробнее про команду [eject](https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#npm-run-eject)

## Деплой приложения

В конце концов, ни одно приложение не должно оставаться локально на компьютере. Вы хотите показать его всему миру. Heroku — это платформа как услуга (Platform as a Service, PaaS), где вы можете разместить ваше приложение. Они предлагают безболезненную интеграцию с React. В частности, приложение, созданное с помощью *create-react-app*, можно развернуть за считанные минуты. Это деплой приложения без всякой настройки конфигурации, что следует философии *create-react-app*.

Перед деплоем приложения в Heroku необходимо выполнить два шага:

* установите [CLI Heroku](https://devcenter.heroku.com/articles/heroku-cli)
* зарегистрируйте [бесплатный аккаунт в Heroku](https://www.heroku.com/)

Если у вас установлен Homebrew, вы можете установить CLI Heroku из командной строки:

{title="Командная строка",lang="text"}
~~~~~~~~
brew update
brew install heroku-toolbelt
~~~~~~~~

Теперь можно воспользоваться git и CLI Heroku для деплоя вашего приложения.

{title="Командная строка",lang="text"}
~~~~~~~~
git init
heroku create -b https://github.com/mars/create-react-app-buildpack.git
git add .
git commit -m "react-create-app on Heroku"
git push heroku master
heroku open
~~~~~~~~

Вот и всё. Надеюсь, ваше приложение запущено и работает. При возникновении проблем можно ознакомиться со следующими ресурсами:

* [Основы Git and GitHub](https://www.robinwieruch.de/git-essential-commands/)
* [Деплой React-приложения без какой-либо конфигурации](https://blog.heroku.com/deploying-react-with-zero-configuration)
* [Пакет для сборки приложения, созданного с помощью create-react-app, на Heroku](https://github.com/mars/create-react-app-buildpack)
